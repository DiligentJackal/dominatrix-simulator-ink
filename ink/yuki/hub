=== yuki_hub ===
-> select_gender_check ->

~ setHub(Yuki)

{inTutorial:
    /character yuki
    /perform react_whatever sad 55
    What are you doing back here!? #01

    /perform react_chuckle amused 65
    You still have a punishment! #02

    /perform do_you_leave skeptical 60
    Go back to the headmistress #03
    And get your punishment training, #04

    /perform react_chuckle amused 70
    Silly {player_name}. #05

    /wait 3

    -> entry_hub
}

- (hub)

/character yuki idle_pleased happy 65
/music yuki
/ambient none
/scene atrium.hub

+ [move:Yuki]

{ hub == 1:
    <<< Hi! >>>
- else:
    <<< Hi again! >>>
}

// - (check_mega_punishment)
// { punishments == 10:
//     Are you here for your mega-punishment?
//     + [yes] -> TBD
//     + [no] -> check_punishment
// }

- (check_punishment)
{ punishments > 0 :
    -> Yuki_Punishment_Response ->

    /perform talk_question skeptical 65
    Are you here to pay that off? #08
    /wait 1
    /perform idle_yuki amused 55

    + [yes]
        /perform do_fist_pump excited 55
        Good. #09
        -> choose_punishment
    + [no]
        /perform talk_annoyed sad 60
        No? Well, don't forget you have one. #10

        /perform idle_fake_annoyed sad 70
        You can't receive any rewards until you finish all your punishments. #11
        -> check_task
}

// - (check_mega_reward)
// { rewards == 10 && punishments == 0:
//
//         /perform do_bouncing_big excited 85
//         Are you here for your mega-reward?
//         + [yes] -> TBD
//         + [no] -> check_reward
// }

- (check_reward)
{ punishments == 0 && rewards > 0:
    /perform talk_question amused 55
    Are you here for your reward? #12
    /perform idle_tease aroused 70
    + [yes] -> choose_reward
    + [no] -> check_task
}

/perform do_consider skeptical 55
No punishments or rewards, huh? #13
-> check_task


- (check_task)
/perform idle_clasp_hands happy 55
Looking to serve me, then? #14

+ [yes] -> choose_task
+ [no]
    /perform react_oh_darn sad 65
    Okay. #15
    Maybe some other time then. #16
    -> exit


= choose_reward

{deviation == puppyplay:
    {shuffle:
        - -> yuki_reward_puppyplay_milking
        // - -> yuki_reward_puppyplay_lickfeet
    }

- else:
    {shuffle:
        //- -> yuki_reward_bathe
        //- -> yuki_reward_massage
        - -> yuki_reward_puppyplay_milking
        // - -> yuki_reward_puppyplay_lickfeet

        // Put more reward scenes here.
    }
}


= choose_punishment

{deviation == puppyplay:
    {shuffle:
        // - -> yuki_punishment_puppyplay_cage
        - -> yuki_punishment_puppyplay_spanking
    }

- else:
    {shuffle:
        // - -> yuki_punishment_edging
        // - -> yuki_punishment_puppyplay_cage
        - -> yuki_punishment_puppyplay_spanking
        // Put more punishment scenes here.
    }
}


= choose_task

{deviation == puppyplay:
    {shuffle:
        - -> yuki_task_puppyplay
    }

- else:
    {shuffle:
        //- -> yuki_task_fanning
        - -> yuki_task_puppyplay
        // Put more task scenes here.
    }
}
